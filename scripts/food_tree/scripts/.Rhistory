filter(term %in% c('fg_fruit','fg_sweets', 'fg_veggie')) %>%
rename(pred_div = post_q75_pred) %>%
mutate(type = '75%') %>%
select(term, pred_div,type ),
post_pred_max %>%
filter(term %in% c('fg_fruit','fg_sweets', 'fg_veggie')) %>%
rename(pred_div = post_max_pred) %>%
mutate(type = 'max') %>%
select(term, pred_div,type ),
post_pred_ave %>%
filter(term %in% c('fg_fruit','fg_sweets', 'fg_veggie')) %>%
rename(pred_div = post_ave_pred) %>%
mutate(type = 'ave') %>%
select(term, pred_div,type )
)
fg_val_summary <- meta %>%
select(starts_with('fg')) %>%
summarise_all(funs(quantile(., probs = c(0.25, 0.5, 0.75, 0.8, 0.9)))) %>%
mutate(grp = c('25%','50%','75%', '80%', '90%'))
fg_val_max <- meta %>%
select(starts_with('fg')) %>%
summarise_all(funs(max))  %>%
mutate(grp = 'max')
fg_val_min <- meta %>%
select(starts_with('fg')) %>%
summarise_all(funs(min))  %>%
mutate(grp = 'min')
fg_val_summary_all <- bind_rows(fg_val_summary, fg_val_max, fg_val_min) %>%
gather('fg', 'value', fg_egg:fg_veggie) %>%
mutate(ori_value = value*100) %>%
select(-value) %>%
rename(term = fg, type = grp) %>%
mutate(ori_value = round(ori_value))
fg_val_summary_all
all_pred %>%
left_join(key %>% rename(term = fg1_name) %>% select(term, shortname)) %>%
inner_join(fg_val_summary_all) %>%
filter(type  %in% c('min', '50%', 'max')) %>%
mutate(xtext = str_glue('{shortname} {type}: {ori_value}g')) %>%
arrange(shortname, ori_value) %>%
# ggboxplot( data = ., x = 'xtext', y = 'pred_div', fill = 'term', xlab = '', ylab = 'Predicted alpha diversity') +
ggplot(aes(x = xtext, y = pred_div, col = term)) +
stat_pointinterval(.width = c(.8, .95)) +
labs(x = '', y = 'Predicted alpha diversity') +
facet_grid(term ~ ., scales = 'free') +
scale_color_manual(values = c('#7D3C98','#db2589','#229954')) +
coord_flip() +
theme_classic() +
theme(legend.position = 'none',
strip.background = element_blank(),
strip.text = element_blank())
all_pred %>%
left_join(key %>% rename(term = fg1_name) %>% select(term, shortname)) %>%
inner_join(fg_val_summary_all) %>%
filter(type != 'ave') %>%
mutate(type = factor(type, levels = c('min','25%','50%','75%','80%','90%', 'max'))) %>%
mutate(xtext = str_glue('{shortname} {type}: {ori_value}g')) %>%
arrange(shortname, ori_value) %>%
ggboxplot( data = ., x = 'xtext', y = 'pred_div', fill = 'term',
xlab = '', ylab = 'Predicted alpha diversity') +
facet_grid(term ~ ., scales = 'free') +
scale_fill_manual(values = c('#7D3C98','#db2589','#229954')) +
coord_flip() +
theme_classic() +
theme(legend.position = 'none',
strip.background = element_blank(),
strip.text = element_blank())
# make the F2D as we discussed
maxs <- max_each_fg_post %>%  as.list()
mins <- min_each_fg_post %>%  as.list()
two_diff <- map2(maxs, mins, .f = function(maxi, mini){
tibble(
max_=maxi,
min_=mini,
ave=ave_each_fg_post$post_res
)  %>%
mutate(diff_max_ave = exp(max_) - exp(ave),
diff_min_ave =  exp(min_) - exp(ave))
})%>%
bind_rows(.id = 'term') %>%
mutate(term = str_replace(term, 'max_','')) %>%
left_join(key %>%
select(term = fg1_name, color, shortname))
View(two_diff)
two_diff
# find the 95% HDI for the sweets max - ave
two_diff %>%
group_by(shortname) %>%
tidybayes::median_qi(diff_max_ave , .width = c(.95))
knitr::opts_chunk$set(echo = TRUE)
z = read.csv("117_irep_full_table_zscore_family.csv")
z = read.csv("../data/117_irep_full_table_zscore_family.csv")
?pmax
dat <- read_csv('../data/117_irep_full_table.csv')
dat <- read_csv('../data/117_irep_full_table.csv') %>%
group_by(sampleid) %>%
slice(which.max(iRep))
View(dat)
them <- read_csv('../data/sum of sugar intake vs max zscore family(E,E).csv')
View(them)
View(them)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(ggpubr)
# all the irep values I got
fns <- list.files('../data/growth/irep/updated_irep/', full.names = T, pattern = '.tsv')
irep <- fns %>%
set_names(fns) %>%
purrr::map(~  read_tsv(file = ., n_max = 1 , col_types = 'cc',  skip = 2, col_names = c('bin','iRep')) %>%  select(iRep) ) %>%
bind_rows(.id = 'fn') %>%
mutate(fn = str_replace(fn, '_irep.tsv$',''),
fn = str_replace(fn, '../data/growth/irep/updated_irep//','')) %>%
separate(fn, into = c('sampleid','samplebin'), sep = '__concat__', remove = T) %>%
mutate(iRep = as.numeric(iRep)) %>%
mutate(samplebin = str_replace(samplebin, '_irep_dastool.tsv','')) %>%
mutate(sbid = str_glue('{sampleid}__{samplebin}'))
full <- read_tsv('../data/growth/bhatpipeline/binning_table_all_full.tsv')
tb <- read_tsv('../data/growth/bhatpipeline/binning_table_all_simple.tsv') %>%
rename_all(~ gsub("\\.", "_", .)) %>%
mutate(fpmbp = `# contigs (>= 0 bp)`/Size_Mb) %>%
filter(Completeness >= 75 & fpmbp <= 175 & Contamination <= 2) %>%
mutate(Sample = str_replace(Sample, '__concat',''),
sbid = str_glue('{Sample}__{Bin}')) %>%
inner_join(irep, by  = 'sbid') %>%
relocate(iRep, .after = 'Bin') %>%
relocate(best_species, .after = 'iRep') %>%
filter(!is.na(iRep)) %>%
arrange(Sample,Bin,  best_species) %>%
# if there are multiple get the average
#group_by(Sample, best_species, best_level) %>%
#summarise(aveirep = mean(iRep)) %>%
filter(best_species != 'Unclassified')
tb %>% distinct(Sample)
#151 samples
knitr::opts_chunk$set(echo = TRUE)
full <- read_csv('../data/117_irep_full_table.csv')
View(full)
full %>% distinct(sampleid)
# find the 146 that were returned
library(vdbR)
connect_database()
get_table_from_database('shotgun_lookup_ad')
View(shotgun_lookup_ad)
shotgun_lookup_ad
shotgun_lookup_ad
e6 <- shotgun_lookup_ad %>%
filter(sampleid %in% full$sampleid & !str_detect(projectid, '11861'))
e6 <- shotgun_lookup_ad %>%
filter(sampleid %in% full$sampleid & !str_detect(projectid, '11862'))
View(e6)
e6 <- shotgun_lookup_ad %>%
distinct(sampleid, .keep_all = T) %>%
filter(sampleid %in% full$sampleid & !str_detect(projectid, '11862'))
View(e6)
p145 <- shotgun_lookup_ad %>%
distinct(sampleid, .keep_all = T) %>%
filter(str_detect(projectid, '11862'))
e6 <- shotgun_lookup_ad %>%
#distinct(sampleid, .keep_all = T) %>%
filter(sampleid %in% full$sampleid & !str_detect(projectid, '11862'))
p145 <- shotgun_lookup_ad %>%
#distinct(sampleid, .keep_all = T) %>%
filter(str_detect(projectid, '11862'))
View(p145)
length(intersect(e6$sampleid, p145$sampleid))
e6 <- shotgun_lookup_ad %>%
distinct(sampleid, .keep_all = T) %>%
filter(sampleid %in% full$sampleid)
View(e6)
setdiff(e6$sampleid, p145$sampleid)
View(e6)
full %>% distinct(sampleid)
all151 <- shotgun_lookup_ad %>%
distinct(sampleid, .keep_all = T) %>%
filter(sampleid %in% full$sampleid)
p145 <- shotgun_lookup_ad %>%
#distinct(sampleid, .keep_all = T) %>%
filter(str_detect(projectid, '11862'))
setdiff(all151$sampleid, p145$sampleid)
full %>% distinct(sampleid)
setdiff(all151$sampleid, p145$sampleid)
View(p145)
where10 <- shotgun_lookup_ad %>%
distinct(sampleid, .keep_all = T) %>%
filter(sampleid %in% others10)
others10 <- setdiff(all151$sampleid, p145$sampleid)
where10 <- shotgun_lookup_ad %>%
distinct(sampleid, .keep_all = T) %>%
filter(sampleid %in% others10)
View(where10)
where10
View(all151)
all151 <- shotgun_lookup_ad %>%
arrange(sampleid, desc(projectid)) %>%
distinct(sampleid, .keep_all = T) %>%
filter(sampleid %in% full$sampleid)
View(all151)
# what about the other 141?
other141 <- all151 %>%
filter(str_detect(projectid, '11862'))
View(other141)
View(other141)
knitr::opts_chunk$set(echo = TRUE)
dtb <- read_csv('../data/cleaned_diet_data/FINAL_97_with_code_all_foods_drt_with_EN_finalized.csv')
View(dtb)
meta <- read_csv('../data/cleaned_stool/all_samples_meta_p2d_fg9_updated.csv')
View(meta)
library(vdbR)
connect_database()
get_table_from_database('asv_alpha_diversity_ag')
View(asv_alpha_diversity_ag)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(vdbR)
connect_database()
get_table_from_database('asv_alpha_diversity_ag')
View(asv_alpha_diversity_ag)
View(asv_alpha_diversity_ag)
asv_alpha_diversity_ag
# how many pools in the asv_alpha_diversity_ag table
asv_alpha_diversity_ag %>%
mutate(path = str_replace(path_pool, 'isolated_oligos$','*.oligos'))
# how many pools in the asv_alpha_diversity_ag table
asv_alpha_diversity_ag %>%
mutate(path = str_replace(path_pool, 'isolated_oligos$','*.oligos')) %>%
mutate(cmd = str_glue('cp {path} /data/brinkvd/data/oligos'))
# how many pools in the asv_alpha_diversity_ag table
asv_alpha_diversity_ag %>%
mutate(path = str_replace(path_pool, 'isolated_oligos$','*.oligos')) %>%
mutate(cmd = str_glue('cp {path} /data/brinkvd/data/oligos')) %>%
write_csv('../data/copy_oligos_26064.csv')
# how many pools in the asv_alpha_diversity_ag table
asv_alpha_diversity_ag %>%
mutate(path = str_replace(path_pool, 'isolated_oligos$','*.oligos')) %>%
mutate(cmd = str_glue('cp {path} /data/brinkvd/data/oligos')) %>%
write_csv('../data/copy_oligos_26064.sh', col_names = F)
# how many pools in the asv_alpha_diversity_ag table
asv_alpha_diversity_ag %>%
mutate(path = str_replace(path_pool, 'isolated_oligos$','*.oligos')) %>%
mutate(cmd = str_glue('cp {path} /data/brinkvd/data/oligos')) %>%
write_csv('../data/copy_oligos_26064.sh', col_names = F)
asv_alpha_diversity_ag %>%
mutate(path = str_replace(path_pool, 'isolated_oligos$','*.oligos')) %>%
mutate(cmd = str_glue('cp {path} /data/brinkvd/data/oligos'))
# how many pools in the asv_alpha_diversity_ag table
asv_alpha_diversity_ag %>%
mutate(path = str_replace(path_pool, 'isolated_oligos$','*.oligos')) %>%
mutate(cmd = str_glue('cp {path} /data/brinkvd/data/oligos')) %>%
select(cmd) %>%
write_csv('../data/copy_oligos_26064.sh', col_names = F)
# how many pools in the asv_alpha_diversity_ag table
asv_alpha_diversity_ag %>%
mutate(path = str_replace(path_pool, 'isolated_oligos$','*.oligos')) %>%
mutate(cmd = str_glue('cp {path} /data/brinkvd/data/oligos')) %>%
distinct(cmd) %>%
write_csv('../data/copy_oligos_26064.sh', col_names = F)
asv_alpha_diversity_ag %>%
mutate(path = str_replace(path_pool, 'isolated_oligos$','*.oligos')) %>%
mutate(cmd = str_glue('cp {path} /data/brinkvd/data/oligos')) %>%
distinct(cmd)
asv_alpha_diversity_ag %>%
mutate(path = str_replace(path_pool, 'isolated_oligos$','*.oligos')) %>%
mutate(cmd = str_glue('cp {path} /data/brinkvd/data/oligos')) %>%
distinct(cmd)
# to check those pool names
pools <- asv_alpha_diversity_ag %>%
mutate(path = str_replace(path_pool, 'isolated_oligos$','*.oligos'))
View(pools)
# to check those pool names
pools <- asv_alpha_diversity_ag %>%
mutate(path = str_replace(path_pool, 'isolated_oligos$','*.oligos'))
# to check those pool names
pools <- asv_alpha_diversity_ag %>%
mutate(path = str_replace(path_pool, 'isolated_oligos$','*.oligos')) %>%
distinct(path)
View(pools)
# to check those pool names
pools <- asv_alpha_diversity_ag %>%
mutate(path = str_replace(path_pool, 'isolated_oligos$','*.oligos')) %>%
distinct(path)
View(pools)
View(asv_alpha_diversity_ag)
View(pools)
pools
# the ones that "res" in the directory name
res <- pools %>%
filter(str_detect(path, '_res'))
View(res)
# the ones that "res" in the directory name
res <- pools %>%
filter(str_detect(path, '_res/'))
# the ones that "res" in the directory name
res <- pools %>%
filter(str_detect(path, '_res'))
# the ones that "res" in the directory name
res <- pools %>%
filter(str_detect(path, '_res/'))
res <- pools %>%
filter(str_detect(path, '_res/')) %>%
mutate(path = str_replace(path_pool, '_res/dada2_results$','*.oligos'))
res <- pools %>%
filter(str_detect(path, '_res/'))
res <- pools %>%
filter(str_detect(path, '_res/')) %>%
mutate(path = str_replace(path, '_res/dada2_results$','*.oligos'))
res <- pools %>%
filter(str_detect(path, '_res/')) %>%
mutate(path = str_replace(path, '_res/dada2_results$','/*.oligos'))
res
# the ones that "res" in the directory name
res <- pools %>%
filter(str_detect(path, '_res/')) %>%
mutate(path = str_replace(path, '_res/dada2_results$','/*.oligos')) %>%
mutate(path = if_else(str_detect(path, '^Sample'), str_glue('/lila/data/brinkvd/daia1/samples/amplicon/{path}'), path))
res <- pools %>%
filter(str_detect(path, '_res/')) %>%
mutate(path = str_replace(path, '_res/dada2_results$','/*.oligos')) %>%
mutate(path = if_else(str_detect(path, '^Sample'), str_glue('/lila/data/brinkvd/daia1/samples/amplicon/{path}'), path))
# the ones that "res" in the directory name
res <- pools %>%
filter(str_detect(path, '_res/')) %>%
mutate(path = str_replace(path, '_res/dada2_results$','/*.oligos')) %>%
mutate(path = if_else(str_detect(path, '^Sample'), str_glue('/lila/data/brinkvd/daia1/samples/amplicon/{path}'), path)) %>%
mutate(cmd = str_glue('cp {path} /data/brinkvd/data/oligos'))
# the ones that "res" in the directory name
res <- pools %>%
filter(str_detect(path, '_res/')) %>%
mutate(path = str_replace(path, '_res/dada2_results$','/*.oligos')) %>%
mutate(path = if_else(str_detect(path, '^Sample'), str_glue('/lila/data/brinkvd/daia1/samples/amplicon/{path}'), path)) %>%
mutate(cmd = str_glue('cp {path} /data/brinkvd/data/oligos'))  %>%
select(cmd) %>%
write_csv('../data/copy_oligos_15.sh', col_names = F)
res <- pools %>%
filter(str_detect(path, '_res/')) %>%
mutate(path = str_replace(path, '_res/dada2_results$','/*.oligos')) %>%
mutate(path = if_else(str_detect(path, '^Sample'), str_glue('/lila/data/brinkvd/daia1/samples/amplicon/{path}'), path)) %>%
mutate(cmd = str_glue('cp {path} /data/brinkvd/data/oligos'))  %>%
select(cmd) %>%
write_csv('../data/copy_oligos_15.sh', col_names = F)
View(res)
# find all the oligos in the castori center dir
list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/')
# find all the oligos in the castori center dir
list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/*/')
# find all the oligos in the castori center dir
list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/*')
# find all the oligos in the castori center dir
list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/')
# find all the oligos in the castori center dir
list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/*/*oligos')
# find all the oligos in the castori center dir
list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/*/*')
# find all the oligos in the castori center dir
list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/*')
# find all the oligos in the castori center dir
list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/')
# find all the oligos in the castori center dir
list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/Miseq.83')
# find all the oligos in the castori center dir
list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/*')
# find all the oligos in the castori center dir
list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/')
# find all the oligos in the castori center dir
list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/*/')
# find all the oligos in the castori center dir
list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/*/', full.names = T)
# find all the oligos in the castori center dir
list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/*/*', full.names = T)
# find all the oligos in the castori center dir
list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/', full.names = T)
# find all the oligos in the castori center dir
list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/Miseq.FUNGAL.1', full.names = T)
library(tidyverse)
read_rds('../data/2022_9_13.rdata')
read_rds('2022_9_13.rdata')
read_rds('../data/2022_9_13.rdata')
load('../data/2022_9_13.rdata')
load('../data/2022_9_13.rdata')
load('../data/2022_9_13.rdata')
load('2022_9_13.rdata')
load('2022_9_13.rdata')
load('2022_9_13.rdata')
load('./2022_9_13.rdata')
pwd()
workdir()
list.dirs()
list.dirs('.')
getwd()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(vdbR)
connect_database()
get_table_from_database('shotgun_lookup_ad')
dat <- read_csv('~/Downloads/shotgun_samples_missing.csv')
View(dat)
dat <- read_csv('~/Downloads/shotgun_samples_missing.csv') %>%
inner_join(shotgun_lookup_ad)
dat <- read_csv('~/Downloads/shotgun_samples_missing.csv')
dat <- read_csv('~/Downloads/shotgun_samples_missing.csv') %>%
inner_join(shotgun_lookup_ad)
View(dat)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(vdbR)
connect_database()
get_table_from_database('shotgun_lookup_ad')
dat <- read_csv('~/Downloads/shotgun_samples_missing.csv') %>%
inner_join(shotgun_lookup_ad)
View(dat)
# the files that I need to copy to the castori center folder
copy <- dat %>%
filter(str_detect(directory, 'peledj|pamere'))
View(copy)
copy
# the files that I need to copy to the castori center folder
copy <- dat %>%
filter(str_detect(directory, 'peledj|pamere')) %>%
mutate(file = str_replace(directory, '/Volumes','/data/brinkvd/rawIGO'))
copy
# the files that I need to copy to the castori center folder
copy <- dat %>%
filter(str_detect(directory, 'peledj|pamere')) %>%
transmute(file = str_replace(directory, '/Volumes','/data/brinkvd/rawIGO'))
copy
# the files that I need to copy to the castori center folder
copy <- dat %>%
filter(str_detect(directory, 'peledj|pamere')) %>%
transmute(file = str_replace(directory, '/Volumes','/data/brinkvd/rawIGO'),
file = str_replace(file, 'FASTQ/',''))
copy
# the files that I need to copy to the castori center folder
copy <- dat %>%
filter(str_detect(directory, 'peledj|pamere')) %>%
transmute(file = str_replace(directory, '/Volumes','/data/brinkvd/rawIGO'),
file = str_replace(file, 'FASTQ/','')) %>%
mutate(cmd = str_glue('scp -r daia1@lilac.mskcc.org:{file} /Volumes/castoricenter/Angel/shotgun_for_bile_acid' ))
# the files that I need to copy to the castori center folder
copy <- dat %>%
filter(str_detect(directory, 'peledj|pamere')) %>%
transmute(file = str_replace(directory, '/Volumes','/data/brinkvd/rawIGO'),
file = str_replace(file, 'FASTQ/','')) %>%
mutate(cmd = str_glue('scp -r daia1@lilac.mskcc.org:{file} /Volumes/castoricenter/Angel/shotgun_for_bile_acid' ))
copy
copy %>%
write_csv('dl_files.sh', col_names = R)
copy %>%
write_csv('dl_files.sh', col_names = F)
copy %>%
select(cmd) %>%
write_csv('dl_files.sh', col_names = F)
other <- dat %>%
filter(!sampleid %in% copy$sampleid)
View(other)
other <- dat %>%
filter(!str_detect(directory, 'peledj|pamere'))
56-11
View(other)
other <- dat %>%
filter(!str_detect(directory, 'peledj|pamere')) %>%
mutate(file = str_replace(directory, '/Volumes','/data/brinkvd/rawIGO'),
file = str_replace(file, 'FASTQ/',''))
View(copy)
other <- dat %>%
filter(!str_detect(directory, 'peledj|pamere')) %>%
mutate(file = str_replace(directory, '/Volumes','/data/brinkvd/rawIGO'),
file = str_replace(file, 'FASTQ/',''))
other <- dat %>%
filter(!str_detect(directory, 'peledj|pamere')) %>%
mutate(file = str_replace(directory, '/Volumes','/data/brinkvd/rawIGO'),
file = str_replace(file, 'FASTQ/',''),
file = str_replace(file, 'vandenBrinkLab/deep_sequencing', 'vandenbm'))
other <- dat %>%
filter(!str_detect(directory, 'peledj|pamere')) %>%
mutate(file = str_replace(directory, '/Volumes','/data/brinkvd/rawIGO'),
file = str_replace(file, 'FASTQ/',''),
file = str_replace(file, 'vandenBrinkLab/deep_sequencing', 'vandenbm')) %>%
select(file)
other
other
other %>%
write_csv('../data/ba_shotgun_45_path.csv', col_names = F)
other
other <- dat %>%
filter(!str_detect(directory, 'peledj|pamere')) %>%
mutate(file = str_replace(directory, '/Volumes','/data/brinkvd/rawIGO'),
file = str_replace(file, 'FASTQ/',''),
file = str_replace(file, 'vandenBrinkLab/deep_sequencing', 'vandenbm'),
file = str_replace(file, '/data/brinkvd/rawIGO/vandenbm','/igo/delivery/share/vandenbm'))
select(file)
other <- dat %>%
filter(!str_detect(directory, 'peledj|pamere')) %>%
mutate(file = str_replace(directory, '/Volumes','/data/brinkvd/rawIGO'),
file = str_replace(file, 'FASTQ/',''),
file = str_replace(file, 'vandenBrinkLab/deep_sequencing', 'vandenbm'),
file = str_replace(file, '/data/brinkvd/rawIGO/vandenbm','/igo/delivery/share/vandenbm')) %>%
select(file)
other <- dat %>%
filter(!str_detect(directory, 'peledj|pamere')) %>%
mutate(file = str_replace(directory, '/Volumes','/data/brinkvd/rawIGO'),
file = str_replace(file, 'FASTQ/',''),
file = str_replace(file, 'vandenBrinkLab/deep_sequencing', 'vandenbm'),
file = str_replace(file, '/data/brinkvd/rawIGO/vandenbm','/igo/delivery/share/vandenbm')) %>%
select(file)
other <- dat %>%
filter(!str_detect(directory, 'peledj|pamere')) %>%
mutate(file = str_replace(directory, '/Volumes','/data/brinkvd/rawIGO'),
file = str_replace(file, 'FASTQ/',''),
file = str_replace(file, 'vandenBrinkLab/deep_sequencing', 'vandenbm'),
file = str_replace(file, '/data/brinkvd/rawIGO/vandenbm','/igo/delivery/share/vandenbm')) %>%
select(file)
other %>%
write_csv('../data/ba_shotgun_45_path.csv', col_names = F)
