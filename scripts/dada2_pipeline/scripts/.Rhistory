knitr::opts_chunk$set(echo = TRUE)
# find all the oligos in the castori center dir
list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/', full.names = T)
# find all the oligos in the castori center dir
list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/*', full.names = T)
# find all the oligos in the castori center dir
list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/', full.names = T, recursive = T)
# find all the oligos in the castori center dir
miseq_oligos <- tibble(oliogs = list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/', full.names = T, recursive = T))
library(tidyverse)
# find all the oligos in the castori center dir
miseq_oligos <- tibble(oliogs = list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/', full.names = T, recursive = T))
View(miseq_oligos)
list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/', full.names = T, recursive = T)
res <- list.files('/Volumes/castoricenter/Castori.Center/Miseq/Miseq.Oligos/', full.names = T, recursive = T)
res
miseq_oligos <- tibble(oliogs = res)
View(miseq_oligos)
library(vdbR)
connect_database()
get_table_from_database('asv_alpha_diversity_ag')
View(asv_alpha_diversity_ag)
asv_alpha_diversity_ag
# all the pools that are in our asv table
us <- asv_alpha_diversity_ag %>%
mutate(folder = str_extract(path_pool, 'Sample.+$'))
View(us)
# all the pools that are in our asv table
us <- asv_alpha_diversity_ag %>%
mutate(folder = str_extract(path_pool, 'Sample.+$')) %>%
distinct(folder)
View(us)
us
us_pool <- us %>%
filter(str_detect(folder, 'pool'))
View(us_pool)
us_pool
us_pool <- us %>%
filter(str_detect(folder, 'pool')) %>%
mutate(poolid = str_extract(folder, 'pool.+_'))
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
# One-time configuration of the MSK RStudio Package Manager
# install.packages("rstudio.prefs")
# rstudio.prefs::use_rstudio_secondary_repo(
#   MSK_RSPM = "http://rspm.mskcc.org/MSKREPO/latest"
# )
# install.packages("biostatR")
library(biostatR)
library(tidyverse)
load('../data/2022_9_13.rdata')
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(vdbR)
connect_database()
get_table_from_database('patient_allo_ag')
View(patient_allo_ag)
new <- read_csv('~/Desktop/complete_yearly_pull_data_2022-09-15.csv')
View(new)
new
new <- read_csv('~/Desktop/complete_yearly_pull_data_2022-09-15.csv') %>%
filter(type == 'allo')
View(new)
new <- read_csv('~/Desktop/complete_yearly_pull_data_2022-09-15.csv')
new %>% count(type)
new <- read_csv('~/Desktop/complete_yearly_pull_data_2022-09-15.csv') %>%
filter(type == 'allo')
length(intersect(new$mrn, patient_allo_ag$mrn))
old <- patient_allo_ag %>% distinct(mrn)
View(old)
new %>% distinct(mrn)
length(intersect(new$mrn, patient_allo_ag$mrn))
old <- patient_allo_ag %>% distinct(mrn)
new %>% distinct(mrn)
old <- patient_allo_ag %>% distinct(mrn)
new %>% distinct(mrn)
length(intersect(new$mrn, patient_allo_ag$mrn))
View(patient_allo_ag)
full_join <- patient_allo_ag %>%
full_join(new)
View(full_join)
View(full_join)
colnames(full_join)
colnames(full_join)
full_join <- patient_allo_ag %>%
full_join(new)
colnames(full_join)
View(full_join)
View(full_join)
full_join <- patient_allo_ag %>%
full_join(new)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(vdbR)
connect_database()
get_table_from_database('patient_allo_ag')
str(patient_allo_ag)
ss <- str(patient_allo_ag)
ss <- str(patient_allo_ag)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(vdbR)
connect_database()
get_table_from_database('samples_castori_ag')
View(samples_castori_ag)
View(samples_castori_ag)
View(samples_castori_ag)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
# the samples in the 16s
amplicon <- read_csv('../data/whole_cohort_oligos_id.csv')
View(amplicon)
library(vdbR)
connect_database()
get_table_from_database('asv_alpha_diversity_ag')
View(asv_alpha_diversity_ag)
# find the demultiplexed fastq path
ampath <- amplicon %>%
inner_join(asv_alpha_diversity_ag)
