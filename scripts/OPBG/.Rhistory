knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
# the sample table
stb <- read_csv('../data/shotgun_italy_samp_outcome.csv')
View(stb)
# the sample table
stb <- read_csv('../data/shotgun_italy_samp_outcome.csv')
# the sample table
stb <- read_csv('../data/shotgun_italy_samp_outcome.csv')
View(stb)
ptb <- read_csv('../data/OPBG_clinicaldata_w_prior_lines_11-30-2020 edited.csv')
View(stb)
library(vdbR)
connect_database()
get_table_from_database('shotgun_lookup_ad')
View(shotgun_lookup_ad)
View(ptb)
# matching between the sampleid from the files and the sampleid from the stb
fns <- shotgun_lookup_ad %>%
filter(str_detect(fid, '^CMT'))
View(fns)
fns
# matching between the sampleid from the files and the sampleid from the stb
fns <- shotgun_lookup_ad %>%
filter(str_detect(fid, '^CMT')) %>%
select(projectid:fid)
intersect(fns$sampleid, stb$sampleid)
fns
fns %>% distinct(projectid)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(vdbR)
connect_database()
get_table_from_database('shotgun_lookup_ad')
stb <- read_csv('../data/shotgun_italy_samp_outcome.csv')
ptb <- read_csv('../data/OPBG_clinicaldata_w_prior_lines_11-30-2020 edited.csv')
# matching between the sampleid from the files and the sampleid from the stb
fns <- shotgun_lookup_ad %>%
filter(str_detect(fid, '^CMT')) %>%
select(projectid:fid)
intersect(fns$sampleid, stb$sampleid)
# I think I need to do this manually
fns %>% write_csv('../data/001_fns.csv')
# matching between the sampleid from the files and the sampleid from the stb
fns <- shotgun_lookup_ad %>%
filter(str_detect(fid, '^CMT')) %>%
select(projectid:fid) %>%
mutate(pid = '', day = '')
# I think I need to do this manually
fns %>% write_csv('../data/001_fns.csv')
# matching between the sampleid from the files and the sampleid from the stb
fns <- shotgun_lookup_ad %>%
filter(str_detect(fid, '^CMT')) %>%
select(projectid:fid) %>%
mutate(pid = '', day = '') %>%
arrange(sampleid)
# matching between the sampleid from the files and the sampleid from the stb
fns <- shotgun_lookup_ad %>%
filter(str_detect(fid, '^CMT')) %>%
select(projectid:fid) %>%
mutate(pid = '', day = '') %>%
arrange(sampleid)
View(fns)
View(fns)
# matching between the sampleid from the files and the sampleid from the stb
fns <- shotgun_lookup_ad %>%
filter(str_detect(fid, '^CMT')) %>%
select(projectid:fid) %>%
mutate(pid = '', day = '') %>%
arrange(sampleid)
View(fns)
# matching between the sampleid from the files and the sampleid from the stb
fns <- shotgun_lookup_ad %>%
filter(str_detect(fid, '^CMT')) %>%
select(projectid:fid) %>%
mutate(pid = '', day = '') %>%
arrange(desc(sampleid))
View(fns)
fns
# matching between the sampleid from the files and the sampleid from the stb
fns <- shotgun_lookup_ad %>%
filter(str_detect(fid, '^CMT')) %>%
select(projectid:fid) %>%
mutate(pid = '', day = '') %>%
arrange(desc(sampleid)) %>%
select(projectid, sampleid, pid:day, fid)
# I think I need to do this manually
fns %>% write_csv('../data/001_fns.csv')
